<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Topic Details - EduKids Africa</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-white shadow-md p-4">
    <div class="max-w-5xl mx-auto flex items-center justify-between">
      <h1 class="text-xl md:text-2xl font-bold text-orange-600">EduKids Africa</h1>
      <a href="subjects-curric.html" class="px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition">← Back to Curriculum</a>
    </div>
  </header>

  <!-- Content -->
  <main class="flex-grow max-w-5xl mx-auto p-6">
    <div id="topic-container" class="bg-white shadow rounded-lg p-6">
      <h2 id="topic-title" class="text-2xl font-bold text-gray-800 mb-4"></h2>
      <p id="topic-content" class="text-gray-700 leading-relaxed"></p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white text-center py-4">
    <p>© <span id="year"></span> EduKids Africa. All rights reserved.</p>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // Get topic id from query string
    const params = new URLSearchParams(window.location.search);
    const topicId = params.get("topic");

    async function loadTopic() {
      if (!topicId) {
        document.getElementById("topic-container").innerHTML =
          "<p class='text-red-600'>No topic selected.</p>";
        return;
      }

      try {
        const res = await fetch("topics.json");
        const topics = await res.json();

        if (topics[topicId]) {
          document.getElementById("topic-title").textContent = topics[topicId].title;
          document.getElementById("topic-content").textContent = topics[topicId].content;
        } else {
          document.getElementById("topic-container").innerHTML =
            "<p class='text-red-600'>Topic not found in topics.json.</p>";
        }
      } catch (err) {
        console.error("Error loading topics.json", err);
        document.getElementById("topic-container").innerHTML =
          "<p class='text-red-600'>Failed to load topic details.</p>";
      }
    }

    loadTopic();
  </script>
</body>
</html>
