<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EduKids Africa - Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/lucide-static/font/lucide.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

  <!-- HEADER -->
  <header class="bg-purple-800 text-white p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">EduKids Africa</h1>
    <div class="flex items-center gap-6">
      <!-- Clock -->
      <div class="flex items-center gap-2">
        <i class="lucide lucide-clock text-white"></i>
        <span id="clock" class="font-mono">00:00:00</span>
      </div>
      <!-- Score & Level -->
      <div class="flex items-center gap-4">
        <span id="levelDisplay" class="font-bold">Level 1</span>
        <span id="scoreDisplay" class="bg-white text-purple-800 px-3 py-1 rounded-lg shadow">Score: 0/0</span>
      </div>
    </div>
  </header>

  <!-- MAIN QUIZ CONTAINER -->
  <main class="max-w-3xl mx-auto p-6">
    <div class="bg-white rounded-xl shadow-lg p-6">
      <!-- Question -->
      <h2 id="questionText" class="text-lg font-semibold mb-4">Loading question...</h2>
      <!-- Options -->
      <div id="optionsContainer" class="space-y-3"></div>
      <!-- Progress -->
      <div class="mt-6">
        <div class="w-full bg-gray-200 rounded-full h-3">
          <div id="progressBar" class="bg-purple-600 h-3 rounded-full" style="width:0%"></div>
        </div>
      </div>
    </div>
  </main>

  <!-- INSTRUCTION MODAL -->
  <div id="instructionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl p-6 max-w-md text-center shadow-lg">
      <h2 class="text-xl font-bold mb-4">Welcome to EduKids Africa Quiz üéâ</h2>
      <p class="mb-4 text-gray-700">
        Answer the questions carefully. Each correct answer gives you a point.
        To move to the next level, you must meet the pass mark.
      </p>
      <button id="startQuizBtn" class="bg-purple-800 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition">
        I'm Ready üöÄ
      </button>
    </div>
  </div>
<!-- Floating Help Button -->
<button id="eduHelpBtn" 
  class="fixed bottom-6 right-6 w-14 h-14 rounded-full bg-orange-700 text-white shadow-lg hover:bg-orange-600 transition z-50">
  ?
</button>

<!-- Help Modal -->
<div id="eduHelpModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-lg w-80 p-6 text-center relative">
    <h2 class="text-xl font-bold mb-4">Need Help?</h2>
    <div id="eduReplayLevelOptions" class="mb-2">
      <button class="eduHelpBtnOption w-full bg-purple-600 text-white py-2 rounded-lg mb-2 hover:bg-purple-500 transition" data-level="1">
        Replay Level 1
      </button>
      <button class="eduHelpBtnOption w-full bg-purple-600 text-white py-2 rounded-lg mb-2 hover:bg-purple-500 transition" data-level="2">
        Replay Level 2
      </button>
      <button class="eduHelpBtnOption w-full bg-purple-600 text-white py-2 rounded-lg mb-2 hover:bg-purple-500 transition" data-level="3">
        Replay Level 3
      </button>
    </div>
    <button id="eduResetLevelBtn" class="w-full bg-orange-600 text-white py-2 rounded-lg mb-2 hover:bg-orange-500 transition">
      Reset Current Level
    </button>
    <button id="eduBackSubjectsBtn" class="w-full bg-gray-700 text-white py-2 rounded-lg mb-2 hover:bg-gray-600 transition">
      Go Back to Subjects
    </button>
    <button id="eduCloseHelpBtn" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">‚úñ</button>
  </div>
</div>
  
<!-- Shared site footer -->
  <footer>
    <div>
      <h2 class="typing-logo">EduKids Africa<span style="color:#fff;">.</span></h2>
      <p class="brand-caption">Shaping Bright Futures with Love & Learning</p>
      <p style="font-size:0.9rem; color:#aaa;">
        ¬© <span id="year"></span> EduKids Africa. All rights reserved.
      </p>
    </div>
    
  <nav class="footer-links">
    <a href="index.html">Home</a>
    <a href="subjects.html">Subjects</a>
    <a href="contact.html">Contact</a>
    <a href="blog.html">Blog</a>
  </nav>
  
  </footer>
  <style>
/* Footer */
    footer {
      background: #2c1a47;
      color: #fff;
      padding: 20px;
      right:0;
      left:0;
      margin: 50px auto;
      text-align: center;
      
    }

    .typing-logo {
      margin-bottom: 10px;
      font-size: 1.6rem;
      font-weight: 700;
      color: #ff6b6b;
      white-space: nowrap;
      overflow: hidden;
      border-right: 3px solid #ff6b6b;
      width: 0;
      animation: typing 3s steps(20, end) infinite alternate, blink 0.8s infinite;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 220px; }
    }

    @keyframes blink {
      50% { border-color: transparent; }
    }
    .footer-links {
  display: flex;
  justify-content: center;
  gap: 2rem;
  flex-wrap: wrap;
  margin-bottom: 0.5rem;
}

.footer-links a {
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  position: relative;
  padding: 0.3rem 0.6rem;
  transition: all 0.3s ease;
  border-radius: 8px;
}

.footer-links a:hover {
  background: #ffcc00;
  color: #222;
}

.footer-links a.active {
  color: #fff;
  box-shadow: 0 0 8px #00e6e6, 0 0 15px #00e6e6;
  background: #009999;
}

.footer-note {
  color: #ccc;
  font-size: 0.9rem;
}

</style>

  <!-- EXTERNAL SCRIPT -->
  <script src="quiz.js"></script>
<!-- LEVEL SUMMARY MODAL -->
<div id="summaryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white rounded-xl p-6 max-w-md w-full text-center shadow-lg">
    <h2 id="summaryTitle" class="text-xl font-bold mb-4">Level Summary</h2>
    <p id="summaryMessage" class="mb-4 text-gray-700"></p>
    <div class="flex justify-center gap-4">
      <button id="retryBtn" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-500 transition hidden">
        Retry üîÑ
      </button>
      <button id="nextLevelBtn" class="bg-purple-800 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition hidden">
        Next Level üöÄ
      </button>
    </div>
  </div>
</div>
<!-- END SCREEN MODAL (put before </body>) -->
<div id="endModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-xl p-6 max-w-md w-full text-center">
    <h2 id="endTitle" class="text-xl font-bold mb-3"></h2>
    <p id="endMessage" class="text-gray-700 mb-6"></p>
    <div class="flex justify-center gap-4">
      <button id="retryBtn"
        class="bg-orange-600 hover:bg-orange-500 text-white px-5 py-2 rounded-lg font-semibold hidden">
        Retry Level üîÑ
      </button>
      <button id="nextBtn"
        class="bg-purple-700 hover:bg-purple-600 text-white px-5 py-2 rounded-lg font-semibold hidden">
        Next Level ‚û°Ô∏è
      </button>
    </div>
  </div>
</div>
  

<script>
/* ================================
   Floating Help Modal (unique IDs)
   Adds "Need Help?" button for replay/reset/go back
================================ *
const floatingHelpBtn = document.getElementById("floatingHelpBtn");
const floatingHelpModal = document.getElementById("floatingHelpModal");
const closeFloatingHelpBtn = document.getElementById("closeFloatingHelpBtn");
const resetCurrentLevelBtn = document.getElementById("resetCurrentLevelBtn");
const backToSubjectsBtn = document.getElementById("backToSubjectsBtn");
const replayLevelBtns = document.querySelectorAll(".help-level-btn");

// Open Help Modal
if (floatingHelpBtn) {
  floatingHelpBtn.addEventListener("click", () => {
    if (floatingHelpModal) {
      floatingHelpModal.classList.remove("hidden");
      floatingHelpModal.classList.add("flex");
    }
  });
}

// Close Help Modal
if (closeFloatingHelpBtn) {
  closeFloatingHelpBtn.addEventListener("click", () => {
    if (floatingHelpModal) {
      floatingHelpModal.classList.add("hidden");
      floatingHelpModal.classList.remove("flex");
    }
  });
}

// Replay specific level buttons
replayLevelBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    const levelIndex = parseInt(btn.dataset.level, 10);
    if (!isNaN(levelIndex) && levelIndex >= 0 && levelIndex < availableLevels.length) {
      currentLevelIndex = levelIndex;
      prepareLevelQuestions();
      currentQuestionIndex = 0;
      score = 0;
      hideEndModal();
      startLevel();
      if (floatingHelpModal) {
        floatingHelpModal.classList.add("hidden");
        floatingHelpModal.classList.remove("flex");
      }
    }
  });
});

// Reset current level
if (resetCurrentLevelBtn) {
  resetCurrentLevelBtn.addEventListener("click", () => {
    prepareLevelQuestions();
    currentQuestionIndex = 0;
    score = 0;
    hideEndModal();
    renderQuestion();
    if (floatingHelpModal) {
      floatingHelpModal.classList.add("hidden");
      floatingHelpModal.classList.remove("flex");
    }
  });
}

// Back to subjects
if (backToSubjectsBtn) {
  backToSubjectsBtn.addEventListener("click", () => {
    window.location.href = "subjects.html"; // adjust path if needed
  });
}
*/

  
  document.addEventListener("DOMContentLoaded", () => {
  // Select elements
  const floatingHelpBtn = document.getElementById("floatingHelpBtn");
  const floatingHelpModal = document.getElementById("floatingHelpModal");
  const closeHelpBtn = document.getElementById("closeHelpBtn");
  const replayLevelBtns = document.querySelectorAll(".help-level-btn");
  const resetLevelBtn = document.getElementById("resetLevelBtn");
  const backSubjectsBtn = document.getElementById("backSubjectsBtn");

  if (!floatingHelpBtn || !floatingHelpModal) return; // Safety

  // Show modal
  floatingHelpBtn.addEventListener("click", () => {
    floatingHelpModal.classList.remove("hidden");
    floatingHelpModal.classList.add("flex");
  });

  // Close modal
  if (closeHelpBtn) {
    closeHelpBtn.addEventListener("click", () => {
      floatingHelpModal.classList.add("hidden");
      floatingHelpModal.classList.remove("flex");
    });
  }

  // Replay level buttons
  replayLevelBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      const level = parseInt(btn.dataset.level, 10) - 1; // 0-based index
      currentLevelIndex = level;
      hideEndModal();
      startLevel();
      floatingHelpModal.classList.add("hidden");
      floatingHelpModal.classList.remove("flex");
    });
  });

  // Reset current level
  if (resetLevelBtn) {
    resetLevelBtn.addEventListener("click", () => {
      hideEndModal();
      prepareLevelQuestions();
      currentQuestionIndex = 0;
      score = 0;
      renderQuestion();
      floatingHelpModal.classList.add("hidden");
      floatingHelpModal.classList.remove("flex");
    });
  }

  // Go back subjects
  if (backSubjectsBtn) {
    backSubjectsBtn.addEventListener("click", () => {
      window.location.href = "subjects.html";
    });
  }
});

  
</script>
  
</body>
</html>
